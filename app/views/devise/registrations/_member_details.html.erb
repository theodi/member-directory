<fieldset>
  <legend></legend>

  <div class="control-group">
    <%= f.label :contact_name, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :contact_name , :autofocus => true, :required => 'required' %> <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :email, :class => 'control-label' %>
    <div class="controls">
      <%= f.email_field :email, :required => 'required' %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <% unless individual? || student? %>

  <div class="control-group">
    <%= f.label :organization_name, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :organization_name, :required => 'required' %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :organization_size, :class => 'control-label' %>
    <div class="controls">
      <%= f.select(:organization_size, Member::ORGANISATION_SIZES, prompt: "Please select") %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :organization_type, :class => 'control-label'  %>
    <div class="controls">
      <%= f.select(:organization_type, Member::ORGANISATION_TYPES, prompt: "Please select") %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :organization_sector, :class => 'control-label'  %>
    <div class="controls">
      <%= f.select(:organization_sector, Member.sectors, prompt: "Please select") %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <% end %>

  <% if student? %>

  <div class="control-group dob">
    <%= f.label :dob, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field(:dob_day,   { :required => "required", :pattern => "[0-9]*", :class => "day" }) %>
      <%= f.text_field(:dob_month, { :required => "required", :pattern => "[0-9]*", :class => "month" }) %>
      <%= f.text_field(:dob_year,  { :required => "required", :pattern => "[0-9]*", :class => "year" }) %>
      <span class="help-inline">*</span>
      <span class="help-block">For example, 20 3 1976</span>
    </div>
  </div>

  <% end %>

  <div class="control-group">
    <%= f.label :telephone, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :telephone %>
    </div>
  </div>
</fieldset>

<% unless individual? || student? %>

<fieldset>
  <legend>Financial information</legend>

  <div class="control-group">
    <%= f.label :organization_company_number, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :organization_company_number %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :organization_vat_id, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :organization_vat_id %>
    </div>
  </div>
</fieldset>

<% end %>

<fieldset>
  <% if student? %>
    <legend>Home address details</legend>
  <% else %>
    <legend>Address details</legend>
  <% end %>

  <div class="control-group">
    <%= f.label :street_address, "Building and street", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :street_address, :required => :required %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :address_region, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :address_region, :required => :required %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :address_country, :class => 'control-label' %>
    <div class="controls">
      <%= f.country_select :address_country, priority_countries: ["GB"], prompt: "Please select", :required => :required %>
      <span class="help-inline">*</span>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :postal_code, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :postal_code, :required => :required, :class => "postcode" %>
      <span class="help-inline">*</span>
    </div>
  </div>
</fieldset>

<% if individual? %>

  <fieldset>

    <legend>Subscription amount</legend>

    <p class="lead">We're now offering you the chance to select how much you wish to pay for membership - from £1 to £100. It's up to you. What you pay is inclusive of VAT.</p>

    <div class="control-group">
      <%= f.label :subscription_amount, :class => 'control-label' %>
      <div class="controls">
        £ <%= f.select :subscription_amount, options_for_select(Member.subscription_options, Member.default_subscription_option) %>
        <span class="help-inline">*</span>
      </div>
    </div>
  </fieldset>

  <script>
    $('#member_subscription_amount').change(function() {
      var amount = parseInt($(this).val())
      $('span#amount').html(amount)
    })
  </script>

<% end %>
