<fieldset>

  <legend>We just need a few of your details</legend>

  <div class="control-group">
  	<%= f.label :contact_name, :class => 'control-label' %>
  	<div class="controls">
  		<%= f.text_field :contact_name , :autofocus => true, :required => 'required' %> <span class="help-inline">(required)</span>
  	</div>
  </div>

  <div class="control-group">
  	<%= f.label :email, :class => 'control-label' %>
  	<div class="controls">
  		<%= f.email_field :email, :required => 'required' %>
      <span class="help-inline">(required)</span>
  	</div>
  </div>

  <% unless individual? %>
    <div class="control-group">
    	<%= f.label :organization_name, :class => 'control-label' %>
    	<div class="controls">
    		<%= f.text_field :organization_name %>
    	</div>
    </div>

    <div class="control-group">
      <%= f.label :organization_size, :class => 'control-label' %>
      <div class="controls">
        <%= f.select(:organization_size, Member::ORGANISATION_SIZES, prompt: "Please select") %>
        <span class="help-inline">(required)</span>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :organization_type, :class => 'control-label'  %>
      <div class="controls">
        <%= f.select(:organization_type, Member::ORGANISATION_TYPES, prompt: "Please select") %>
        <span class="help-inline">(required)</span>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :organization_sector, :class => 'control-label'  %>
      <div class="controls">
        <%= f.select(:organization_sector, Member.sectors, prompt: "Please select") %>
        <span class="help-inline">(required)</span>
      </div>
    </div>

  <% end %>

  <div class="control-group">
  	<%= f.label :telephone, :class => 'control-label' %>
  	<div class="controls">
  		<%= f.text_field :telephone %>
  	</div>
  </div>

</fieldset>

<% unless individual? %>
  <fieldset>

    <legend>Financial information</legend>

    <div class="control-group">
    	<%= f.label :organization_company_number, :class => 'control-label' %>
    	<div class="controls">
    		<%= f.text_field :organization_company_number %>
    	</div>
    </div>

    <div class="control-group">
    	<%= f.label :organization_vat_id, :class => 'control-label' %>
    	<div class="controls">
    		<%= f.text_field :organization_vat_id %>
    	</div>
    </div>

  </fieldset>

  <fieldset>

    <legend>How would you like to pay?</legend>

    <div class="control-group">
    	<%= f.label :payment_method, :class => 'control-label' %>
    	<div class="controls">
        <%= f.label :payment_method, t(:credit_card), :value => :credit_card do %>
          <%= f.radio_button :payment_method, :credit_card %>
          <%= t(:credit_card) %>
        <% end %>
        <%= f.label :payment_method, t(:invoice), :value => :invoice do %>
          <%= f.radio_button :payment_method, :invoice %>
          <%= t(:invoice) %>
        <% end %>
    	</div>
    </div>

    <div id='invoice-details' class="control-group">
      <%= f.label :purchase_order_number, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :purchase_order_number %>
      </div>
      <%= f.label :street_address, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :street_address %>
      </div>
      <%= f.label :address_locality, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :address_locality %>
      </div>
      <%= f.label :address_region, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :address_region %>
      </div>
      <%= f.label :address_country, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :address_country %>
      </div>
      <%= f.label :postal_code, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :postal_code %>
      </div>
    </div>

  </fieldset>
<% end %>

<script>

  function show_payment_options() {
    switch($('input:radio[name="member[payment_method]"]:checked').val()) {
    case "invoice":
      $('#invoice-details').slideDown();
      break;
    case "credit_card":
      $('#invoice-details').slideUp();
      break;
    }
  }

  $(document).ready(function() {
    $('#invoice-details').hide();
    show_payment_options();

    $('input[name="member[payment_method]"]:radio').change(show_payment_options);
  });
</script>
